<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <title>Theo Dõi Đơn Hàng - Sakedo</title>
  <link rel="stylesheet" href="../css/base/variables.css" />
  <link rel="stylesheet" href="../css/pages/global.css" />
  <link rel="stylesheet" href="../css/pages/order-tracking.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
</head>

<body>
  <div class="tracking-container">
    <h1 class="order-id-title">Đơn Hàng #<span id="display-id">...</span></h1>

    <div class="progress-track">
      <div class="step active" id="step-1">
        <div class="step-icon"><i class="fas fa-file-invoice"></i></div>
        <div class="step-text">Chờ xác nhận</div>
      </div>

      <div class="step" id="step-2">
        <div class="step-icon"><i class="fas fa-utensils"></i></div>
        <div class="step-text">Chờ lấy hàng</div>
      </div>

      <div class="step" id="step-3">
        <div class="step-icon"><i class="fas fa-motorcycle"></i></div>
        <div class="step-text">Đang giao</div>
      </div>

      <div class="step" id="step-4">
        <div class="step-icon"><i class="fas fa-check"></i></div>
        <div class="step-text">Đã nhận đơn</div>
      </div>
    </div>

    <div class="order-details">
      <h3>Chi tiết đơn hàng</h3>
      <p>
        <strong>Người nhận:</strong> <span id="track-name">Đang tải...</span>
      </p>
      <p>
        <strong>Tổng tiền:</strong>
        <span id="track-total" class="track-total">...</span>
      </p>
      <p>
        <strong>Tài xế:</strong>
        <span id="track-driver">Chưa có tài xế nhận đơn</span>
      </p>
    </div>

    <a href="/index.html" class="btn-home">Quay về trang chủ</a>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const params = new URLSearchParams(window.location.search);
      const orderId = params.get("id") || "ORD-001";
      document.getElementById("display-id").textContent = orderId;

      const currentStatus = 3;
      updateTrackingUI(currentStatus);
    });

    function updateTrackingUI(statusLevel) {
      for (let i = 1; i <= 4; i++) {
        const step = document.getElementById(`step-${i}`);
        if (i <= statusLevel) {
          step.classList.add("active");
        } else {
          step.classList.remove("active");
        }
      }

      if (statusLevel >= 3) {
        document.getElementById(
          "track-driver"
        ).innerHTML = `<i class="fas fa-user-check"></i> Nguyễn Văn Tài Xế - 0909.888.xxx`;
      }
    }
  </script>
</body>

</html>